---
import Check from '../../Icons/Ebook/Check.astro';
import ShieldCheck from '../../Icons/Ebook/ShieldCheck.astro';
import Star from '../../Icons/Ebook/Star.astro';
import AlertTriangle from '../../Icons/Ebook/AlertTriangle.astro';
import Button from './Button.astro';
import AlertTriangle1 from '../../Icons/Ebook/AlertTriangle1.astro';
import { Image } from 'astro:assets';
import Ebook from '../../assets/Ebook/ebook (3).svg'
---

<section class="relative text-white overflow-hidden pb-20 md:pb-40">
  <div class="absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-[#2A0505] via-[#080808] to-[#000000] z-0"></div>
  
  <div class="absolute top-0 right-0 w-[300px] md:w-[600px] h-[300px] md:h-[600px] bg-brand-red/10 rounded-full blur-[60px] md:blur-[120px] pointer-events-none mix-blend-screen translate-x-1/2 -translate-y-1/2 z-0"></div>
  
  <div class="bg-yellow-400 border-b-4 border-black relative z-20 shadow-[0_10px_40px_-10px_rgba(234,179,8,0.5)]">
    <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/diagonal-stripes.png')] opacity-10 pointer-events-none"></div>
    
    <div class="max-w-7xl mx-auto px-3 py-2 md:py-3 flex items-center justify-center relative z-10">
      <div class="flex flex-col md:flex-row items-center justify-center gap-1 md:gap-4 text-center">
        
        <div class="flex items-center gap-2">
           <AlertTriangle size="18" color="#000000" className="animate-pulse"/>
           <span class="font-black font-heading text-black uppercase tracking-wider text-xs md:text-lg leading-none">
              Atenci√≥n: Solo Due√±os de Cl√≠nica
           </span>
        </div>
        
        <span class="hidden md:block w-1.5 h-1.5 rounded-full bg-black/20"></span>

        <div class="flex items-center gap-2">
             <span class="font-bold text-black text-[10px] md:text-base uppercase tracking-tight opacity-90">
                Tu acceso gratuito expira en:
             </span>
             <div class="bg-black text-red-500 px-2 py-0.5 md:px-2 md:py-1 rounded font-mono font-bold text-xs md:text-lg leading-none border border-red-500/50 shadow-sm min-w-[50px] md:min-w-[80px] text-center tabular-nums" id="countdown-timer">
                14:59
             </div>
        </div>

      </div>
    </div>
  </div>

  <div class="max-w-7xl mx-auto px-4 pt-8 md:pt-16 relative z-10 mb-8 md:mb-12">
    <div class="grid md:grid-cols-12 gap-8 md:gap-12 items-center">
      <figure class="order-1 md:col-span-5 w-full book-cover relative transform transition-all duration-500 hover:scale-105 hover:-translate-y-2 cursor-pointer">
        <div class="relative ">
          <Image src={Ebook} alt={''} />
        </div>
        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-3/4 h-3/4 bg-brand-red/20 blur-[40px] md:blur-[80px] rounded-full animate-pulse -z-1"></div>
      </figure>
      

      <div class="md:col-span-7 space-y-6 md:space-y-8 order-1 md:order-2 text-center md:text-left">
        <div>
          <p class="text-brand-red font-bold uppercase tracking-[0.2em] mb-3 text-xs md:text-sm flex items-center justify-center md:justify-start gap-2">
            <AlertTriangle1 size="18" color="#D92027" />
            <span class="opacity-90">¬øTu agenda tiene huecos libres?</span>
          </p>
          <h1 class="title-hero">
            C√≥mo llenar los sillones de tu <span class="text-transparent bg-clip-text bg-gradient-to-r from-white via-gray-200 to-gray-400">cl√≠nica dental</span> ü¶∑
          </h1>
          <h2 class="text-base md:text-xl text-gray-300 font-normal leading-relaxed max-w-2xl mx-auto md:mx-0">
            Descubre los secretos que las <span class="text-white font-bold border-b border-brand-red">Grandes Franquicias</span> no quieren que sepas para atraer pacientes de <span class="text-brand-gold font-bold">Implantes, Ortodoncia y Est√©tica</span> de alto valor.
          </h2>
        </div>

        <ul class="space-y-3 md:space-y-4 text-left max-w-xl mx-auto md:mx-0 bg-white/5 p-4 md:p-6 rounded-lg border border-white/10 shadow-lg backdrop-blur-sm">
          {[
            "Marketing √âtico para Odont√≥logos üë®‚Äç‚öïÔ∏è",
            "C√≥mo competir contra las aseguradoras/mutuas üõ°Ô∏è",
            "Sistema de captaci√≥n de pacientes High-Ticket üíé",
          ].map((item) => (
            <li class="flex items-start gap-3">
              <div class="mt-0.5 md:mt-1 min-w-[20px] md:min-w-[24px]">
                 <Check color="#16a34a" strokeWidth={3} />
              </div>
              <span class="font-medium text-sm md:text-lg text-gray-100">{item}</span>
            </li>
          ))}
        </ul>

        <div class="space-y-3 md:space-y-4 pt-2 md:pt-4">
          <div class="flex flex-col md:flex-row items-center gap-4 md:gap-6">
          <div class="w-full md:w-auto min-w-[280px]">
              <Button subtext="‚ö° Acceso Digital Inmediato - 0‚Ç¨">
                  DESCARGAR AHORA GRATIS
              </Button>
          </div>
            <div class="flex flex-col text-xs md:text-sm text-gray-400">
              <span class="line-through decoration-red-500 decoration-2 opacity-60">Precio Normal: 47‚Ç¨</span>
              <span class="text-[#16a34a] font-bold flex items-center justify-center md:justify-start gap-1">Hoy: 100% GRATIS üéÅ</span>
            </div>
          </div>
          <p class="text-[10px] md:text-xs text-gray-500 flex items-center justify-center md:justify-start gap-2">
            <ShieldCheck size="14" color="grey" /> Ebook especializado para el sector dental.
          </p>
        </div>
      </div>

    </div>
  </div>

  <div class="absolute bottom-0 left-0 w-full z-20 overflow-hidden transform translate-y-1">
     
     <div class="absolute bottom-0 w-full h-16 md:h-32 bg-gray-300 transform scale-y-105" style="clip-path: polygon(0% 25%, 3% 60%, 8% 30%, 14% 75%, 19% 35%, 26% 70%, 33% 35%, 41% 75%, 46% 35%, 53% 70%, 61% 30%, 68% 75%, 74% 35%, 82% 70%, 89% 30%, 95% 65%, 100% 30%, 100% 100%, 0% 100%)"></div>

     <div class="relative w-full h-12 md:h-24 bg-[#eef5f4]" style="clip-path: polygon(0% 20%, 2% 55%, 6% 25%, 11% 70%, 15% 30%, 21% 65%, 25% 35%, 31% 80%, 38% 25%, 42% 60%, 48% 25%, 54% 75%, 60% 30%, 67% 70%, 72% 30%, 79% 65%, 85% 25%, 92% 70%, 96% 40%, 100% 20%, 100% 100%, 0% 100%)"></div>
  </div>
</section>

<script>
  let timeLeft = 14 * 60 + 59;

  function formatTime(seconds: number): string {
    const m = Math.floor(seconds / 60);
    const s = seconds % 60;
    return `${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;
  }

  function updateCountdown() {
    const timer = document.getElementById('countdown-timer');
    if (timer && timeLeft > 0) {
      timer.textContent = formatTime(timeLeft);
      timeLeft--;
    }
  }

  setInterval(updateCountdown, 1000);
  updateCountdown();
</script>