---
// src/components/Features.astro
import Button from './Button.astro';

// Nota t√©cnica: He mantenido tu ruta "iamges", pero verifica si no es un typo de "images"
const beforeSlides = [
  "../iamges/slider/imagen izquierda 1.svg",
  "../iamges/slider/imagen izquierda 2.svg",
  "../iamges/slider/imagen izquierda 3.svg",
  "../iamges/slider/imagen izquierda 4.svg",
  "../iamges/slider/imagen izquierda 5.svg",
];

const afterSlides = [
  "../iamges/slider/imagen derecha 1.svg",
  "../iamges/slider/imagen derecha 2.svg",
  "../iamges/slider/imagen derecha 3.svg",
  "../iamges/slider/imagen derecha 4.svg",
  "../iamges/slider/imagen derecha 5.svg",
];
---

<section class="py-12 md:py-24 bg-[#eef5f4] relative overflow-hidden">
  <div class="max-w-7xl mx-auto px-4 relative z-10">

    <div class="mb-10 md:mb-16 max-w-4xl mx-auto">
      <h2 class="text-[30px] text-[#2b2b2a] text-center font-oswald font-bold">
        ¬øCONOCES LA DIFERENCIA ENTRE <span class="text-[42px] text-[#000000] block font-black">MARKETING GENERICO Y MARKETING DENTAL?</span>
      </h2>
      <p class="text-center mb-5 mt-5 text-[12px] md:text-[18px]">
        No eres due√±o de un restaurante o un ecommerce... <b>eres due√±o de un consultorio dental.</b>
      </p>
      <p class="text-center mb-5 text-[12px] md:text-[18px]">
        La forma de hacer marketing no es la misma que en otras industrias, cr√©eme.
      </p>
      <p class="text-center mb-5 text-[12px] md:text-[18px]">
        Por esta raz√≥n cre√© este ebook con estrategias muy especializadas
      </p>
      <p class="text-center mb-5 text-[12px] md:text-[18px]">
        Nada de teor√≠as gen√©ricas que encuentras en youtube o cualquier lado.
      </p>
    </div>

    <div class="grid md:grid-cols-12 gap-6 items-center">      
        <div class="md:col-span-5 relative group overflow-hidden rounded-xl bg-white shadow-md">
            <div class="p-2 bg-[#213343] text-center text-gray-200 font-oswald font-bold text-xl">MARKETING GENERICO ‚ùå</div>
            <div class="h-[320px] md:h-[380px] w-full overflow-hidden">
                <div class="carousel-track-left flex h-full w-max group-hover:pause"> 
                  {[...beforeSlides, ...beforeSlides].map((image) => (
                      <img src={image} alt="Marketing Gen√©rico" class="w-[200px] md:w-[250px] h-full object-cover shadow-inner"/>
                  ))}
                </div>
            </div>
        </div>

        <div class="md:col-span-2 text-center py-4 md:py-0">
            <span class="text-xl md:text-2xl font-black font-heading text-gray-400 uppercase tracking-widest p-2 rounded-full bg-gray-200">
              VS
            </span>
        </div>

        <div class="md:col-span-5 relative group overflow-hidden rounded-xl bg-white shadow-md">
            
            <div class="p-2 bg-[#213343] text-center text-gray-200 font-oswald font-bold text-xl">MARKETING DENTAL ü¶∑</div>

            <div class="h-[320px] md:h-[380px] w-full overflow-hidden">
                <div class="carousel-track-right flex h-full w-max group-hover:pause">
                  {[...afterSlides, ...afterSlides].map((image, imgIdx) => (
                      <img src={image} alt={`Marketing Dental ${imgIdx + 1}`} class="w-[200px] md:w-[250px] h-full object-cover shadow-inner"/>
                  ))}
                </div>
            </div>
        </div>
    </div>

    <div class="mt-12 text-center">
        <Button subtext='üëáDESCARGAR EL EBOOK AHORAüëá' className="px-12 py-4 text-xl">QUIERO APRENDER DE MARKETING DIGITAL</Button>
    </div>
  </div>
</section>

<style>
  /* El secreto: El track debe ser display flex y tener un ancho de max-content */
  .carousel-track-left {
    animation: scroll-left 12s linear infinite;
  }

  .carousel-track-right {
    /* Empezamos desde -50% para que el movimiento hacia la derecha sea fluido */
    animation: scroll-right 12s linear infinite;
  }

  /* Pausar al hacer hover para mejorar UX */
  .pause {
    animation-play-state: paused;
  }

  @keyframes scroll-left {
    0% { transform: translateX(0); }
    100% { transform: translateX(-50%); } /* Se mueve hacia la izquierda */
  }

  @keyframes scroll-right {
    0% { transform: translateX(-50%); } /* Inicia desplazado */
    100% { transform: translateX(0); }    /* Vuelve al origen */
  }

  /* Ajuste de imagen para evitar saltos visuales si tienen diferentes aspect ratios */
  img {
    flex-shrink: 0;
  }
</style>